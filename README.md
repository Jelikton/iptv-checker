# IPTV Checker & Launcher by jeliktontech

Простой консольный инструмент для проверки статуса каналов из IPTV плейлиста, отображения программы передач (EPG) и запуска потоков во внешнем плеере VLC.

**Автор:** [t.me/jeliktontech](https://t.me/jeliktontech)

## Возможности

*   Чтение плейлистов в формате `.m3u`.
*   Сохранение и обновление списка каналов в файле `.json` (после первого запуска).
*   Проверка доступности HTTP/HTTPS ссылок на потоки каналов.
*   Загрузка и отображение программы передач (EPG) из XMLTV (если указан в M3U и доступен).
*   Отображение списка каналов в удобной таблице с указанием статуса и текущей передачи.
*   Фильтрация каналов по группе.
*   Поиск каналов по названию.
*   Запуск выбранного канала в плеере VLC (автоматически ищет стандартные пути установки).
*   Возможность обновить URL канала прямо из программы.
*   Механизм автообновления скрипта через GitHub (требует настройки URL).
*   Приятный и чистый интерфейс в консоли благодаря библиотеке `rich`.

## Требования

*   **Python 3.x** (рекомендуется 3.7+)
*   **pip** (менеджер пакетов Python, обычно идет вместе с Python)
*   Библиотеки Python:
    *   `requests`
    *   `rich`
    *   `python-dateutil`
    *   `packaging`
*   **VLC Media Player** (установленный в системе, для воспроизведения каналов)

## Установка

1.  **Скачайте или клонируйте репозиторий:**
    *   **Скачать ZIP:** Нажмите зеленую кнопку `<> Code` -> "Download ZIP" и распакуйте архив.
    *   **Клонировать (если установлен Git):** `git clone https://github.com/Jelikton/iptv-checker.git`
2.  **Перейдите в папку:** Откройте терминал или командную строку и перейдите в папку со скачанными файлами (`cd путь/к/папке`).
3.  **Установите зависимости:** Выполните команду:
    ```bash
    pip install requests rich python-dateutil packaging
    ```
    *(Если `pip` не найден, попробуйте `python -m pip install ...` или `pip3 install ...`)*
4.  **Создайте плейлист:** Поместите ваш плейлист в формате M3U в ту же папку и назовите его **`channels.m3u`**. Пример структуры можно найти в коде или создать свой.
    *(При первом запуске программа создаст файл `channels.json` для хранения списка каналов)*.

## Использование

1.  Убедитесь, что вы находитесь в папке с программой в терминале.
2.  Запустите скрипт командой:
    ```bash
    python iptv_checker.py
    ```
3.  Следуйте инструкциям в меню:
    *   **[1] Список:** Показать текущий список каналов (с учетом фильтров).
    *   **[2] Фильтр:** Выбрать группу каналов для отображения.
    *   **[3] Поиск:** Искать каналы по части названия.
    *   **[4] Запуск:** Ввести номер канала (из **отображенного** списка!) для запуска в VLC.
    *   **[5] Обновить URL:** Ввести **оригинальный** номер канала и новый URL для него (сохраняется в `channels.json`).
    *   **[u] Обновления:** Проверить наличие новой версии скрипта (если настроен `VERSION_URL`).
    *   **[q] Выход:** Завершить программу.

## Автообновление

Программа поддерживает механизм самообновления. При запуске она проверяет файл `version.json` по ссылке, указанной в переменной `VERSION_URL` внутри скрипта `iptv_checker.py`.

**Статус:** Сейчас `VERSION_URL` не настроен. Чтобы включить автообновление:

1.  Создайте публичный репозиторий на GitHub.
2.  Загрузите туда последнюю версию `iptv_checker.py` и файл `version.json` с актуальной версией и прямой ссылкой на скрипт.
3.  Впишите прямую ("raw") ссылку на ваш `version.json` в переменную `VERSION_URL` в скрипте.
4.  Загрузите обновленный скрипт на GitHub.

## Важно!

*   **Источники плейлистов:** Стабильность и легальность каналов зависят **исключительно** от вашего файла `channels.m3u`. Публичные плейлисты из интернета часто нестабильны и могут содержать нелегальные трансляции. Используйте плейлисты из надежных (в идеале - легальных) источников.
*   **Файл `channels.json`:** После первого запуска программа будет использовать `channels.json` для хранения списка каналов. Изменения в `channels.m3u` не будут учтены, пока вы не удалите `channels.json`. Обновления URL через меню программы сохраняются только в `channels.json`.

## Планы на будущее (Возможно)

*   Графический интерфейс (GUI).
*   Более надежная обработка EPG (потоковый парсинг).
*   Использование User-Agent из M3U при запуске VLC.
*   Добавление каналов в "Избранное".
